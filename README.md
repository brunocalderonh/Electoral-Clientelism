


For each of the 31 Mexican states (we exclude Mexico City), execute the R script files in the following order:

This folder includes a series of R scripts, organized sequentially, that perform data cleaning, transformation, and analysis. The key scripts are:

1. **`state_precinct_manipulation.R`**  
This script processes electoral data from 1994 to 2019 by appending election results across different years and ensuring consistency in the structure of the datasets. For each year, the data is imported, and variable names are standardized to maintain uniformity across different datasets. The script aggregates election results at the section level (the smallest electoral division within a municipality) by summing votes for all political parties and coalitions. It also calculates turnout rates by dividing total votes by the number of registered voters in each section. The results are then collapsed by municipality and section, ensuring that valid vote counts are captured and made available for further analysis. The unique ID for each municipality ensures consistency when appending data from multiple election years, and this process enables the creation of a harmonized dataset that is ready for subsequent comparative electoral analysis across different Mexican states and time periods.

2. **`vote_manipulation.R`**  
This script processes and cleans electoral data by selectively removing unnecessary variables and keeping only those critical for further analysis. Specifically, it retains the following variables: municipality denomination, state denomination, uniqueid (5-digit code for uniquely identifying municipalities), electoral precinct code, year, total votes cast, eligible voters list, and valid votes. Furthermore, all party and coalition variables are kept since later on these will be crucial to calculate the incumbent vote. The script systematically excludes variables such as those related to state and municipality aggregated vote variables, winner, and rank-related metrics (first, second, third-place vote counts). These omitted variables are either redundant or not essential for this phase of data cleaning, where the focus is on retaining raw vote data for further processing.

4. **`incumbent_manipulation.R`**  
This script processes and merges incumbent party and candidate information at the municipal level from several sources - such as offical Mexican electoral databases (Sistema Nacional de Información Municipal, 2024), data compiled by Eric Magar (Magar, 2018), and Jose Luis Peres Castellas (Citations needed) . Each dataset provides details about incumbents across various election years. The script standardizes variable names (such as party and candidate fields), aligns the data by \texttt{uniqueid} (municipality identifier) and year, and then merges the incumbent information into a single dataset. After processing, the incumbent data—focused on the municipal level—is joined to precinct-level vote data previously processed. This final merged dataset integrates both municipal-level incumbent details and precinct-level electoral outcomes, allowing for a comprehensive analysis of electoral behavior and incumbent influence on election results. By lagging the incumbent data by one election period, the script provides essential context on incumbency leading into each election cycle.
5. **`incumbent_vote_calculator.R`**  
This script calculates the votes for incumbent and runner-up parties by linking the final values of incumbent parties to the corresponding vote data at the precinct level. It uses a merged dataset that includes detailed incumbent information for each election year. The script first standardizes party names and handles both individual party votes and coalition votes. It assigns vote totals based on the identified incumbent party, whether from a single party or a coalition, and does the same for the runner-up party. Furthermore, it checks for mutual exclusivity in cases where both individual party votes and coalition votes appear. This ensures accurate calculation of vote totals for both incumbents and runner-ups. The result is a clean, final dataset where the incumbent and runner-up vote counts are precisely linked to their respective parties, enabling further analysis of election outcomes at the precinct level.

6. **`final.R`**  
This script generates the final version of the electoral data for each state by merging vote data with detailed incumbent and runner-up party information. Specifically, this script calculates the votes for key political parties—PRI, PAN, MORENA, and PRD—as well as the state-level incumbent votes. This step processes the final vote counts at both the municipal and precinct levels, incorporating details from previously processed files. The script also assigns party vote components to identify which coalition or individual party received the votes for incumbents and runners-up. An important step before running this script is to execute the corresponding "state_collapsed_edited" files, which contains the manually researched incumbents and their respective sources - for cases where incumbent coalitions values were not found within the data - ensuring that the main contending party is identified for as many cases possible and thus assigning vote values for as many missing coalition cases. This is the final step required to generate the complete, cleaned dataset for each individual state, where the incumbent vote data and votes for major political parties are fully integrated, ready for analysis.

**                                                                                                                       **
   **Only after executing the files from steps 1 through 5 for each of the 31 states, then execute the R script in step 6 below:**
**                                                                                                                       **

6. **`FINAL_db_formation.R`**  
This script represents the last step in consolidating and finalizing electoral data for all 31 Mexican states into a single, unified dataset. It begins by reading the final cleaned files for each state and appending them into one comprehensive dataset. This ensures that the previously processed state-level data are merged into a consistent format, allowing for national-level analysis. After consolidation, the script cleans the data, removing unnecessary columns and assigning the correct incumbent and runner-up parties. It applies a function that determines the final incumbent party for each electoral section, cross-referencing multiple sources while excluding irrelevant or defunct parties. The script then calculates key electoral metrics, including voter turnout (the ratio of total votes to registered voters) and vote shares for the incumbent, runner-up, and major political parties (PRI, PAN, MORENA, PRD), both relative to the valid votes and the voter registry. Finally, the cleaned and fully consolidated dataset is exported, containing all the necessary electoral information for further analysis at both the state and municipal/section levels across Mexico.

References:

Magar, E. (2018). Recent Mexican Election Vote Returns. Retrieved from https://github.com/emagar/elecRetrns. Last revised on March 10, 2023. ORCID: https://orcid.org/0000-0002-6766-1677.

Sistema Nacional de Información Municipal. (2024). Sistema Nacional de Información Municipal (SNIM). Retrieved from http://www.snim.rami.gob.mx/. Data retrieved from multiple official sources including INEGI, CONAPO, and PNUD.
